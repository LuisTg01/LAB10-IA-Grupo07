<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Chatbot Tienda Virtual</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

  <div class="chat-container">
      <h2>Chatbot - Tienda Virtual</h2>
      <div id="chatbox"></div>

      <div class="input-area">
          <input type="text" id="userInput" placeholder="Escribe tu mensaje...">
          <button onclick="sendMessage()">Enviar</button>
      </div>
  </div>

  <script>
      function addMessage(sender, text) {
          const chatbox = document.getElementById("chatbox");
          const message = document.createElement("div");
          message.className = sender;
          message.innerText = text;
          chatbox.appendChild(message);
          chatbox.scrollTop = chatbox.scrollHeight;
      }

      async function sendMessage() {
          let input = document.getElementById("userInput");
          let text = input.value.trim();
          if (text === "") return;

          addMessage("user", "TÃº: " + text);
          input.value = "";

          const response = await fetch("/chat", {
              method: "POST",
              headers: {"Content-Type": "application/json"},
              body: JSON.stringify({message: text})
          });

          const data = await response.json();
          addMessage("bot", "Bot: " + data.response);
      }
  </script>

</body>
</html>
